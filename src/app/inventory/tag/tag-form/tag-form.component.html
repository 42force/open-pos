
<div fxLayout="column">
  <div fxLayout="row" class="bgc-white-4" fxLayoutWrap="">
    <md-card-title fxFlex="100" fxLayout="column" fxLayoutAlign="center center" class="md-title">Tag Form</md-card-title>
    <form fxFlex="100" class="" #tagForm="ngForm">
      <div fxLayout="row" fxLayout-margin>
        <md-input-container fxFlex>
          <input mdInput placeholder="Tag Name" minlength="1" maxlength="55" required [value]="tag.name || ''"
                 [(ngModel)]="tag.name" name="name">
          <md-hint align="end">{{tag.name?tag.name.length:0}} / 55</md-hint>
        </md-input-container>
      </div>


      <div fxLayout="row" fxLayout-margin class="push-top">
        <div fxFlex *ngIf="!tag.retail_shop_id" fxLayoutAlign="start end">
          <md-select mdInput placeholder="Select a Shop" [(ngModel)]="tag.retail_shop" fxFlex name="shop" required="true">
            <md-option *ngFor="let shop of shops" [value]="shop">
              {{shop.name}}
            </md-option>
          </md-select>
        </div>
        <md-input-container fxFlex *ngIf="tag.retail_shop_id">
          <input mdInput [value]="tag.retail_shop.name" [readOnly]="true" [disabled]="true" type="text">
        </md-input-container>
      </div>


    </form>
    <md-card-actions fxLayout="row" fxLayoutAlign="center center" fxFlex class="push-top">
      <button md-fab="" md-tooltip="cancel"
              (click)="close()" color="accent">
        <md-icon  >close</md-icon>
      </button>
      <span class="pad"></span>
      <button md-fab="" md-tooltip="undo"
              (click)="cancelState()" color="warn">
        <md-icon  >undo</md-icon>
      </button>
      <span class="pad"></span>
      <button md-fab="" [disabled]="!tagForm.form.valid"
              (click)="saveState()"  color="primary" md-tooltip="save"
      ><md-icon >done</md-icon>
      </button>

    </md-card-actions>

  </div>
</div>
