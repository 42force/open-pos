
<div layout="column">
  <div layout="row" class="bgc-white-4" layout-wrap="">
    <md-card-title flex="100" layout="column" layout-align="center center" class="md-title">Distributor Form</md-card-title>
    <form flex="100" class="" #distributorForm="ngForm">
      <div layout="row" layout-margin>
        <md-input-container flex>
          <input mdInput placeholder="Distributor Name" minlength="1" maxlength="55" required [value]="distributor.name || ''"
                 [(ngModel)]="distributor.name" name="name">
          <md-hint align="end">{{distributor.name?distributor.name.length:0}} / 55</md-hint>
        </md-input-container>
      </div>


      <div layout="row" layout-margin>
        <div flex *ngIf="!distributor.retail_shop_id" layout-align="end end">
          <md-select mdInput placeholder="Select a Shop" [(ngModel)]="distributor.retail_shop" name="shop">
            <md-option *ngFor="let shop of shops" [value]="shop">
              {{shop.name}}
            </md-option>
          </md-select>
        </div>
        <md-input-container flex *ngIf="distributor.retail_shop_id">
          <input mdInput [value]="distributor.retail_shop.name" [readOnly]="true" [disabled]="true" type="text">
        </md-input-container>
      </div>
      <div layout-margin="" layout="row">
        <td-chips placeholder="Enter Emails" name="emails" flex [(ngModel)]="distributor.emails">
        </td-chips>
      </div>
      <div layout-margin="" layout="row">

        <td-chips placeholder="Enter Numbers" type="number" name="numbers" flex [(ngModel)]="distributor.phone_numbers">
        </td-chips>

      </div>


    </form>
    <md-card-actions layout="row" layout-align="center center" flex class="push-top">
      <button md-icon-button="" md-fab="" md-raised-button="" md-tooltip="cancel"
              (click)="close()" class="pad-xs push-xs" color="accent">
        <md-icon  class="md-24" >close</md-icon>
      </button>
      <span class="pad"></span>
      <button md-icon-button="" md-fab="" md-raised-button="" md-tooltip="undo"
              (click)="cancelState()" class="pad-xs push-xs" color="warn">
        <md-icon  class="md-24" >undo</md-icon>
      </button>
      <span class="pad"></span>
      <button md-icon-button="" md-fab="" md-raised-button="" [disabled]="!distributorForm.form.valid"
              (click)="saveState()" class="pad-xs push-xs"  color="primary" md-tooltip="save"
      ><md-icon class="md-24" >done</md-icon>
      </button>

    </md-card-actions>

  </div>
</div>
