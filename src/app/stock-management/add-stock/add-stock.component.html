<div layout-wrap="" layout="column" class="pad-sm">
  <div class="md-content bgc-white-4" layout-fill>
    <td-steps>
      <td-step #step1
               [active]="state===1" [disabled]="disabled" [state]="stateStep1" >
        <template td-step-label><span>Select Shop</span></template>
        <template td-step-actions>
          <div layout="row" layout-wrap="" flex="100">
            <template ngFor [ngForOf]="shops" let-item >
              <md-card class="md-shadow-bottom-z-2" flex>
                <md-card-content layout="column" layout-align="center center">
                  <md-icon class="md-48" color="primary">{{item.name}}</md-icon>
                </md-card-content>
                <md-toolbar layout="row" layout-align="center center" class="bgc-orange-50"
                            (click)="setShop(item);step1.close()" style="cursor: pointer">
                  <a  style="text-decoration: none" >
                    <span class="md-title tc-accent">{{item.name}}</span>
                  </a>

                </md-toolbar>
              </md-card>
            </template>
          </div>
        </template>
      </td-step>
      <td-step #step2  [state]="stateStep2" [disabled]="disabled" [active]="state===2">
        <template td-step-label><span>Select Distributor or Item Wise Entry</span></template>
        <template td-step-actions>
          <div layout="row" layout-wrap="" flex="100">
            <md-card flex="" class=" md-shadow-bottom-z-2">
              <md-card-content layout="column" layout-align="center center">
                <md-icon class="md-48" color="primary">D</md-icon>
              </md-card-content>
              <md-toolbar layout="row" layout-align="center center" class="bgc-orange-50"
                          (click)="setEntryType('distributor');step2.close()"  style="cursor: pointer">
                <a  style="text-decoration: none">
                  <span class="md-title tc-accent">Distributor Wise</span>
                </a>

              </md-toolbar>
            </md-card>
            <md-card flex="" class=" md-shadow-bottom-z-2">
              <md-card-content layout="column" layout-align="center center">
                <md-icon class="md-48" color="primary">I</md-icon>
              </md-card-content>
              <md-toolbar layout="row" layout-align="center center" class="bgc-orange-50"
                          (click)="setEntryType('item');step2.close()" style="cursor: pointer">
                <a  style="text-decoration: none">
                  <span class="md-title tc-accent">Item Wise</span>
                </a>

              </md-toolbar>
            </md-card>
          </div>
        </template>
      </td-step>
      <td-step #step3 label="Complete State" sublabel="Toggle between active and inactive while in complete state."
               [state]="stateStep3" [disabled]="disabled" [active]="state===3">

        <form layout="row" layout-wrap="" flex="100">

          <div layout="row" layout-margin="" flex="100">
            <div layout-margin="" flex>
              <tag-input [(ngModel)]="distributors" name="distributor" [placeholder]="'Enter Distributor...'"
                         (onAdd)="addDistributor($event)" (onRemove)="removeDistributor($event)"
                         [secondaryPlaceholder]="'Enter Distributor...'" [onlyFromAutocomplete]="true" [maxItems]="1"
              >
                <tag-input-dropdown [autocompleteObservable]='getDistributors'  [appendToBody]="false"
                                    [identifyBy]="'id'"
                                    [displayBy]="'name'">
                  <template let-item="item" let-index="index">
                    {{ item.name }}
                  </template>
                </tag-input-dropdown>
              </tag-input>
            </div>
            <div layout-margin="" flex>
              <md-input-container flex="100"  layout-margin>
                <input md-input type="textarea" [placeholder]="'Enter Reference Number'">
              </md-input-container>
            </div>
            <div layout-margin="" flex>
              <md-input-container  layout-margin flex="100">
                <input md-input type="date" [placeholder]="'Bill Date'">
              </md-input-container>
            </div>

          </div>

          <template ngFor [ngForOf]="products" let-item>
            <div layout="row" layout-wrap="" flex="100">
              <md-input-container flex layout-margin>
                <input md-input [disabled]="true" [readOnly]="true" [value]="item.name" />
              </md-input-container>
              <md-input-container flex layout-margin>
                <input md-input  [placeholder]="'Enter Quantity'" type="number" min="0" />
              </md-input-container>
              <md-input-container flex layout-margin>
                <input md-input  [placeholder]="'Enter Purchase Amount'" type="number" min="0" />
              </md-input-container>
              <md-input-container flex layout-margin>
                <input md-input [placeholder]="'Enter Selling Amount'" type="number" min="0" />
              </md-input-container>
              <md-input-container flex layout-margin>
                <input md-input [placeholder]="'Enter Expiry'" type="date"  />
              </md-input-container>
            </div>

          </template>
        </form>

      </td-step>
    </td-steps>
  </div>

</div>


